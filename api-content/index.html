{"posts":[{"title":"离线安装elasticdump及命令","content":"一.离线安装elasticdump 准备工作: 下载压缩包: 链接: https://pan.baidu.com/s/1VD--fwspgUCJ_7n_kHNlzw 提取码: 3zsh 1.下载两个压缩包 node-v10.16.0-linux-x64.tar.xz 存放到/opt 目录下 npm-cache.tar 存放到/root 目录下 2.在/opt目录下，解压node-v10.16.0-linux-x64.tar.xz包 tar -xvf node-v10.16.0-linux-x64.tar.xz 3.配置环境变量， vim /etc/profile export NODE_HOME=/opt/node-v10.16.0-linux-x64 export PATH=$PATH:$NODE_HOME/bin source /etc/profile 4.确认是否安装成功 node -v npm -v 5.解压 npm-cache.tar的包， cd /root tar -xvf npm-cache.tar ll -h 检查是否存在.npm目录 6.执行安装elasticdump命令 cd /opt/node-v10.16.0-linux-x64/lib npm install --cache /root/.npm --optional --cache-min 99999999 --shrinkwrap false elasticdump 7.检查状态 执行命令 elasticdump --help 二.基础命令(es数据迁移) 1. 数据迁移 input:配置es输出数据IP地址 output:配置es接收数据IP地址 数据迁移： '#拷贝analyzer分词 elasticdump \\ --input=http://localhost:9200/my_index \\ --output=http://localhost1:9200/my_index \\ --type=analyzer '#拷贝映射 elasticdump \\ --input=http://localhost:9200/my_index \\ --output=http://localhost1:9200/my_index \\ --type=mapping '#拷贝数据 elasticdump \\ --input=http://localhost:9200/my_index \\ --output=http://localhost1:9200/my_index \\ --type=data 2. 保存本地方法 # 备份索引数据到文件里: elasticdump \\ --input=http://localhost:9200/my_index \\ --output=/data/my_index_mapping.json \\ --type=mapping elasticdump \\ --input=http://localhost:9200/my_index \\ --output=/data/my_index.json \\ --type=data # 把一个查询结果备份到文件中 elasticdump \\ --input=http://localhost:9200/my_index \\ --output=query.json \\ --searchBody '{&quot;query&quot;:{&quot;term&quot;:{&quot;username&quot;: &quot;admin&quot;}}}' 恢复数据 # 将备份文件的数据导入ES elasticdump \\ --input=./data.json \\ --output=http://localhost:9200 ","link":"https://yanjielk.github.io/post/chi-xian-an-zhuang-elasticdump/"},{"title":"同一台设备配置github和gitlab","content":"一. 生成ssh秘钥 分别对github和gitlab生成对应秘钥(默认情况下生产秘钥位于当前用户 .ssh目录内) 1.在gitbash中使用ssh-keygen -t rsa -C &quot;公司邮箱地址&quot; -f ~/.ssh/gitlab_rsa 生成对应的gitlab密钥：gitlab_rsa和gitlab_rsa.pub 2.将gitlab公钥即gitlab_rsa.pub中的内容配置到公司的gitlab上 3.在gitbash中使用ssh-keygen -t rsa -C &quot;github地址&quot; -f ~/.ssh/github_rsa生成对应的github密钥：github_rsa和github_rsa.pub 4.将github公钥即github_rsa.pub中的内容配置到自己的github上 5.进入密钥生成的位置(.ssh目录下)，创建一个config文件，添加配置： # gitlab Host gitlab HostName gitlabIP地址 User git IdentityFile ~/.ssh/gitlab_rsa # githab Host github HostName github.com User git IdentityFile ~/.ssh/github_rsa 二. 测试连接 在gitbash命令行执行: $ ssh -**T** git**@gitlab** **Welcome** to **GitLab**, yanjielk! $ ssh -**T** git**@github** **Hi** yanjielk! **You**'ve successfully authenticated, but **GitHub** does not provide shell access. 三. 配置git仓库 git的config文件记录了用户的基本信息，需要配置在不同的本地仓库配置不同的用户信息来访问不同的远程仓库。config文件通常有三个位置： system(系统级别): 位于Windows下在git的安装目录， 包含了适用于系统所有用户和所有库的值。如果你传递参数选项’--system’ 给 git config，它将明确的读和写这个文件。 global(用户级别) 位于~/.gitconfig，具体到你的用户。你可以通过传递--global 选项使Git 读或写这个特定的文件。 local(仓库级别) 位于 .git/config，无论你当前在用的库是什么，特定指向该单一的库。每个级别重写前一个级别的值。 1. 用户级别配置 因为公司的代码使用频率较高，所以我们将git配置文件的global（用户级别）设置为公司的gitlab账号,在gitlab中使用如下命令： git config --global user.name 'yanjie' #公司账号名称 git config --global user.email 'yanjie@cecdat.com' #公司账号邮箱 2. 仓库级别配置 将local（仓库级别）配置成github的账号。需要先init一个git的仓库并进入里面后执行如下命令： git config --local user.name 'yanjie' #github账号名称 git config --local user.email 'yanjielk@gmail.com' #github账号邮箱 之后我们github的代码都在这个仓库下拉取。 3. 克隆代码 $ git clone git@github.com:yanjielk/yanjielk.git 在使用github克隆代码时，因为配置了config, 所以会通过配置的host自动查找到git@github.com。对于gitlab也是相同的道理 ","link":"https://yanjielk.github.io/post/github-lab/"},{"title":"Hello Gridea","content":"👏 欢迎使用 Gridea ！ ✍️ Gridea 一个静态博客写作客户端。你可以用它来记录你的生活、心情、知识、笔记、创意... ... Github Gridea 主页 示例网站 特性👇 📝 你可以使用最酷的 Markdown 语法，进行快速创作 🌉 你可以给文章配上精美的封面图和在文章任意位置插入图片 🏷️ 你可以对文章进行标签分组 📋 你可以自定义菜单，甚至可以创建外部链接菜单 💻 你可以在 Windows，MacOS 或 Linux 设备上使用此客户端 🌎 你可以使用 𝖦𝗂𝗍𝗁𝗎𝖻 𝖯𝖺𝗀𝖾𝗌 或 Coding Pages 向世界展示，未来将支持更多平台 💬 你可以进行简单的配置，接入 Gitalk 或 DisqusJS 评论系统 🇬🇧 你可以使用中文简体或英语 🌁 你可以任意使用应用内默认主题或任意第三方主题，强大的主题自定义能力 🖥 你可以自定义源文件夹，利用 OneDrive、百度网盘、iCloud、Dropbox 等进行多设备同步 🌱 当然 Gridea 还很年轻，有很多不足，但请相信，它会不停向前 🏃 未来，它一定会成为你离不开的伙伴 尽情发挥你的才华吧！ 😘 Enjoy~ ","link":"https://yanjielk.github.io/post/hello-gridea/"}]}